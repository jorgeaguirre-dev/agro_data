{
  "Comment": "Pipeline de datos agr√≠colas",
  "StartAt": "ProcesarRinde",
  "States": {
    "ProcesarRinde": {
      "Type": "Task",
      "Resource": "arn:aws:states:::glue:startJobRun.sync",
      "Parameters": {
        "JobName": "${GLUE_JOB_RINDE}",
        "Arguments": {
          "--input_path": "s3://${LANDING_BUCKET}/rinde_lotes.csv",
          "--output_path": "s3://${CURATED_BUCKET}/rinde_lotes"
        }
      },
      "Next": "ProcesarClima"
    },
    "ProcesarClima": {
      "Type": "Task",
      "Resource": "arn:aws:states:::glue:startJobRun.sync",
      "Parameters": {
        "JobName": "${GLUE_JOB_CLIMA}",
        "Arguments": {
          "--input_path": "s3://${LANDING_BUCKET}/clima_diario.csv",
          "--output_path": "s3://${CURATED_BUCKET}/clima_diario"
        }
      },
      "Next": "IniciarCrawlerRinde"
    },
    "IniciarCrawlerRinde": {
      "Type": "Task",
      "Resource": "arn:aws:states:::aws-sdk:glue:startCrawler",
      "Parameters": {
        "Name": "agro-rinde-crawler"
      },
      "Next": "IniciarCrawlerClima"
    },
    "IniciarCrawlerClima": {
      "Type": "Task",
      "Resource": "arn:aws:states:::aws-sdk:glue:startCrawler",
      "Parameters": {
        "Name": "agro-clima-crawler"
      },
      "End": true
    }
  }
}